\documentclass[a4paper,12pt]{article}
\usepackage[svgnames,dvipsnames,x11names]{xcolor} 
% Para usar a linguagem PT-BR.
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{tikz}
\usepackage{array}
\usepackage[brazilian]{babel}
\usepackage[portuguese,linesnumbered,ruled]{algorithm2e}
\usepackage{amsmath, amsthm, amssymb}
\usepackage{mathtools,booktabs}
\usepackage{colortbl}
\usepackage{multirow}
\usepackage{enumitem}
\usepackage{setspace}
\usepackage{etoolbox}
\usepackage{graphicx}
\usepackage{url}
%\usepackage[hmargin=3.5cm,vmargin=3.7cm,bmargin=2cm]{geometry}

\DeclarePairedDelimiter\ceil{\lceil}{\rceil}

\usetikzlibrary{shapes.geometric,arrows,fit,matrix,positioning}
\tikzset
{
    subtree/.style  = {isosceles triangle, draw=black, 
    align=center, minimum height=0.5cm, minimum width=1cm, shape 
    border rotate=90, anchor=north, fill=red!30}
}
\usetikzlibrary{decorations.pathreplacing}

\selectlanguage{brazilian} 

\newtheorem{teo}{Teorema}
\newtheorem{lem}{Lema}
\newtheorem{prov}{Prova}
\newtheorem{alg}{Análise do algoritmo}
\newtheorem{prob}{Problema}
\newtheorem{coro}{Corolário}

\newcommand{\caminho}{\mathrm{-caminho}}
\newcommand{\dist}{\mathrm{dist}}
\newcommand{\diam}{\mathrm{diam}}
\newcommand{\grau}{\mathrm{grau}}
\newcommand{\rot}{\mathrm{rot}}
\newcommand{\ind}{\mathrm{ind}}
\newcommand{\map}{\mathrm{map}}
\newcommand{\Oh}{\mathrm{O}}
\newcommand{\esp}{\mathrm{esp}}
\newcommand\mycommfont[1]{\footnotesize\ttfamily\textcolor{blue}
{#1}}
\SetCommentSty{mycommfont}

\newcolumntype{P}[1]{>{\centering\arraybackslash}p{#1}}

\newcounter{algoline}
\newcommand\Numberline{\refstepcounter{algoline}\nlset{\thealgoline}}
\AtBeginEnvironment{algorithm}{\setcounter{algoline}{21}}

\sloppy

\onehalfspacing

\begin{document}
 
\begin{center}
   {\large \textbf{UNIVERSIDADE DE SÃO PAULO}} \\[.7cm]
   
   {\large \textbf{INSTITUTO DE MATEMÁTICA E ESTATÍSTICA}}\\[4.2cm]
   
   {\Huge TRABALHO DE CONCLUSÃO }\\[0.3cm]
   {\Huge DE CURSO }\\[4cm]
   
   {\Huge Estudo do problema da bissecção mínima em árvores}\\[5cm]
   
   {\large { Aluna: Karina Suemi Awoki}}\\[0.3cm]
   
   {\large { Orientadora: Cristina Gomes Fernandes}}
   

\end{center}

\newpage


\begin{abstract}
	Este trabalho de conclusão de curso 
	consistiu no estudo e implementação
	de um algoritmo linear que,
	dado uma árvore, produz uma bissecção
	de largura controlada.
	Em especial, para árvores de grau limitado
	por uma constante, o algoritmo é uma aproximação
	para o problema da bissecção mínima.
	Este algoritmo faz parte da tese de doutorado
	de Tina Janne Schmidt, da \textit{Technische Universität
	München}.

	O trabalho inclui a análise da correção e de 
	consumo de tempo do algoritmo, que envolve uma
	série de resultados, bem como um estudo experimental
	do algoritmo.
	Para esse estudo, foi implementado também o algoritmo
	de Jansen, Karpinski, Lingas e Seidel, que produz
	uma bissecção mínima, especializado para árvores.


	% é um algoritmo de aproximação para
	% o problema da bissecção mínima aplicado
	% a árvores.
	% Este algoritmo 
	% faz parte da tese
	% de doutorado, ainda em preparação, de 
	% Tina Janne Schmidt.

	% Aqui encontram-se as provas dos lemas e teoremas que 
	% serviram como bases para a criação do
	% algoritmo de FST, 
	% além de pseudocódigos, juntamente com a
	% análise de complexidade de cada uma das 
	% partes desse algoritmo.

	% Além disso, foi estudado e implementado
	% o algoritmo de Jansen~et~al., que
	% é um algoritmo que encontra a solução ótima
	% para o problema da bissecção mínima em árvores, 
	% com a 
	% finalidade de comparar soluções e 
	% desempenho de tempo entre os dois algoritmos.
	% Essa comparação foi feita através de testes 
	% com tipos específicos de árvores, e alguns dos
	% resultados estão presentes neste texto.


\end{abstract}

\newpage

\tableofcontents

\newpage

\part{Parte Objetiva}

\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%  INTRODUÇÃO  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input{introducao}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%  DEFINIÇÕES  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input{definicoes}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%  SEÇÃO 5     %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\input{caminho_maximo}
    

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%  SEÇÃO 6     %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input{lemas_corte}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%  SEÇÃO 7     %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input{rotulacao}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%  SEÇÃO 8     %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input{dobra_diametro}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%  SEÇÃO 9     %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input{fst}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%  SEÇÃO 10    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input{garey}
%\section {Complexidade do problema da bissecção - arrumando}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%  SEÇÃO 11    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{jansen}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%  SEÇÃO 12    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input{arvores_aleatorias}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%  SEÇÃO 13    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section {Experimentos computacionais}
	
	\subsection{Condições de teste}
	Os resultados mostrados a seguir foram extraídos de programas
	desenvolvidos em linguagem C,
	em uma máquina com sistema operacional
	\textit{Linux Ubuntu} versão \textit{14.04 LTS}, 
	com kernel \textit{Linux 3.13.0-74-generic}, 
	sistema de operação \textit{64 bits}, 
	processador \textit{Intel Core i5-4210U 1.70GHz} com \textit{4 threads},
	\textit{7.7GB} de memória \textit{RAM}. 
	Para compilar os programas, foi utilizado 
	o \textit{gcc} versão \textit{4.8.4}
	As opções de compilação usadas foram \textit{-Wall, -ansi, -pedantic, 
	-Wno-unused-result} e \textit{-g}. 

	\subsection{Árvores Binárias Aleatórias}

		\begin{table}[h]
		\centering
		\scalebox{0.78}{
		\begin{tabular}{| c | P{3.4cm}  | P{2.6cm} | >{\columncolor{blue!14}}P{2.5cm} | >{\columncolor{blue!14}}P{2.5cm} | >{\columncolor{red!14}}P{2.6cm} | >{\columncolor{red!14}}P{2.6cm} |}
		%\begin{tabular}{c | >{\columncolor{blue!14}}c | >{\columncolor{red!14}}c | >{\columncolor{blue!14}}c | >{\columncolor{red!14}}c }
			\specialrule{1.7pt}{1pt}{1pt}
			$|V(T)|$ & $e_T(B,W)$ \textbf{FST}/\textbf{Jansen~et~al.} (pior~caso) & nº de vezes que encontrou o ótimo & Tempo médio \textbf{FST} (segundos) & Desvio padrão do tempo \textbf{FST} & Tempo médio \textbf{Jansen~et~al.}   (segundos) & Desvio padrão do tempo \textbf{Jansen~et~al.}  \\[10pt]

			\specialrule{1.7pt}{1pt}{1pt}

			  	100  &  5/2  & 7/10  & 0.000136  & 0.000050 &   0.001794 & 0.000818  \\ [3pt]
				200  &  7/2  & 9/10  & 0.000186  & 0.000089 &   0.008120 & 0.001961  \\ [3pt]
				400  &  8/3  & 6/10  & 0.000196  & 0.000061 &   0.046444 & 0.003297  \\ [3pt]
				800  &  8/3  & 3/10  & 0.000469  & 0.000091 &   0.350070 & 0.011072  \\ [3pt]
				1600 &  8/3  & 2/10  & 0.001014  & 0.000182 &   2.730767 & 0.054196  \\ [3pt]
				3200 & 10/3  & 4/10  & 0.001943  & 0.000681 &  22.178777 & 0.512264  \\ [3pt]
				6400 & 11/3  & 0/10  & 0.004158  & 0.000781 & 176.240114 & 2.011271  \\ [3pt]
			   12800 & 10/3  & 0/10  & 0.008592  & 0.001632 &1407.933406 & 45.462291  \\ [3pt]

			   25600    & 12/--  & --  & 0.024976  & 0.001446 & -- & -- \\ [3pt]
			   51200    & 12/--  & --  & 0.060082  & 0.003555 & -- & -- \\ [3pt]
			   102400   & 13/--  & --  & 0.152887  & 0.007932 & -- & -- \\ [3pt]
			   204800   & 12/--  & --  & 0.284941  & 0.016206 & -- & -- \\ [3pt]
			   409600   & 13/--  & --  & 0.619568  & 0.084594 & -- & -- \\ [3pt]
			   819200   & 13/--  & --  & 1.478659  & 0.093567 & -- & -- \\ [3pt]
			   1638400  & 13/--  & --  & 2.832498  & 0.147750 & -- & -- \\ [3pt]
			   3276800  & 14/--  & --  & 5.971384  & 0.199216 & -- & -- \\ [3pt]
			   6553600  & 16/--  & --  & 13.298427 & 0.831551 & -- & -- \\ [3pt]
			   13107200 & 17/--  & --  & 27.177690 & 1.280472 & -- & -- \\ [3pt]
			   26214400 & 15/--  & --  & 58.552827 & 4.089392 & -- & -- \\ [3pt]


			\specialrule{1.7pt}{1pt}{1pt}
		 
		\end{tabular}
	}
	\end{table}

	\bigskip

		\subsection{Árvores Ternárias}
		Árvores ternárias são árvores completas onde todos os nós, 
		exceto as folhas, possuem três filhos.

		Sabe-se que uma bissecção mínima numa árvore ternária completa
		com~$n$ vértices tem largura~$\Theta(\lg n)$, e esse é o pior caso
		do problema bissecção mínima~\cite{FernandesST15}.
		
\newpage

		\begin{table}[h]
		\centering
		\begin{tabular}{| c | c | >{\columncolor{blue!14}}P{2.1cm} | >{\columncolor{red!14}}P{2.6cm} | >{\columncolor{blue!14}}P{2.6cm} | >{\columncolor{red!14}}P{2.6cm} | }
		%\begin{tabular}{c | >{\columncolor{blue!14}}c | >{\columncolor{red!14}}c | >{\columncolor{blue!14}}c | >{\columncolor{red!14}}c }
			\specialrule{1.7pt}{1pt}{1pt}
			Altura & $|V(T)|$ & $e_T(B,W)$ \textbf{FST} & $e_T(B,W)$ \textbf{Jansen~et~al.} & Tempo \textbf{FST} (segundos) & Tempo \textbf{Jansen~el~al.} (segundos)  \\[10pt]

			\specialrule{1.7pt}{1pt}{1pt}

			  	1 & 4    & 2  & 2  & 0.000083  &   0.0000010 \\ [3pt]
				2 & 13   & 8  & 3  & 0.000067  &   0.000037 \\ [3pt]
				3 & 40   & 10 & 4  & 0.000098  &   0.000236 \\ [3pt]
				4 & 121  & 11 & 4  & 0.000256  &   0.004714 \\ [3pt]
				5 & 364  & 10 & 5  & 0.000503  &   0.070932 \\ [3pt]
				6 & 1093 & 11 & 6  & 0.000845  &   1.717452 \\ [3pt]
				7 & 3280 & 13 & 7  & 0.002124  &  45.923809 \\ [3pt]
				8 & 9841 & 14 & 8  & 0.006565  &1235.784616 \\ [3pt]
				9 &29524 & 16 & -- & 0.021598  &   --       \\ [3pt]
				10&88573 & 17 & -- & 0.073102  &   --       \\ [3pt]
				11&265720& 18 & -- & 0.250203  &   --       \\ [3pt]
				12&797161& 19 & -- & 0.815602  &   --       \\ [3pt]

			\specialrule{1.7pt}{1pt}{1pt}
		 
		\end{tabular}
	\end{table}

	\bigskip
		\subsection{Árvores de Caminho Longo}
		Geramos um conjunto de árvores com diâmetro relativo
		alto, acima de meio.
		%O caminho máximo dessas árvores possui mais que
		%a metade dos vértices da árvore. 
		%Portanto, temos que seu diâmetro relativo é maior que meio.
		Como visto na Seção~\ref{sec:dobraDiametro}, todas as árvores desse tipo caem
		no caso~1, onde o corte da bissecção mínima é sempre no máximo dois.

	\newpage
		\begin{table}[h]
		\centering
		\begin{tabular}{| c | >{\columncolor{blue!14}}P{2.1cm} | >{\columncolor{red!14}}P{2.6cm} | >{\columncolor{blue!14}}P{2.6cm} | >{\columncolor{red!14}}P{2.6cm} |}
		%\begin{tabular}{c | >{\columncolor{blue!14}}c | >{\columncolor{red!14}}c | >{\columncolor{blue!14}}c | >{\columncolor{red!14}}c }
			\specialrule{1.7pt}{1pt}{1pt}
			$|V(T)|$ & $e_T(B,W)$ \textbf{FST} & $e_T(B,W)$ \textbf{Jansen~et~al.} & Tempo \textbf{FST} (segundos) & Tempo \textbf{Jansen~et~al.}   (segundos) \\[10pt]

			\specialrule{1.7pt}{1pt}{1pt}

			  	100  & 2  &  1  & 0.000080  &   0.000663 \\ [3.2pt] 
				200  & 2  &  1  & 0.000114  &   0.004626 \\ [3.2pt]
				400  & 2  &  1  & 0.000181  &   0.037905 \\ [3.2pt]
				800  & 2  &  1  & 0.000327  &   0.250858 \\ [3.2pt]
				1600 & 2  &  2  & 0.00 584  &   2.136476 \\ [3.2pt]
				3200 & 2  &  2  & 0.001118  &  17.872311 \\ [3.2pt]
				6400 & 2  &  2  & 0.002568  & 130.088130 \\ [3.2pt]
			   12800 & 2  &  2  & 0.004061  &1339.149309 \\ [3.2pt]
			   25600 & 2  & --  & 0.008163  & --         \\ [3.2pt]
			   51200 & 2  & --  & 0.023954  & --         \\ [3.2pt]
			   102400 & 2  & --  & 0.042101  & --         \\ [3.2pt]
			   204800 & 2  & --  & 0.093895  & --         \\ [3.2pt]
			\specialrule{1.7pt}{1pt}{1pt}
		 
		\end{tabular}
	\end{table}

	\bigskip
	\bigskip
	\bigskip
	Para gerar as árvores ternárias e as árvores de caminho longo, 
	foram utilizados os geradores feitos por Kampmeier~\cite{Kampmeier}.
	
	Como os geradores de Kampmeier foram feitos na linguagem Java, 
	cada teste levava bastante tempo para ser gerado,
	%uma grande quantidade de tempo foi utilizada para gerar os testes,
	impossibilitando que obtivéssemos testes de grafos com um número 
	de vértices maior.

	\bigskip
	\bigskip
	\bigskip

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%  SEÇÃO 14    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section {Resultados}
Conforme os resultados dos experimentos computacionais
 apresentados anteriormente, observa-se
que o algoritmo de FST possui grande vantagem sobre o algoritmo
de Jansen et al. em relação à complexidade de tempo e, em alguns 
dos casos consegue se equiparar a ele no quesito optimalidade de
solução.

Vemos que ele consegue ser ótimo ou quase ótimo quando aplicado
a árvores que possuem um caminho máximo longo. 
Isso se deve ao
fato de que árvores com diâmetro grande possuem 
mais vértices no caminho máximo do que fora dele, e
árvores desse tipo se enquadram no primeiro caso do algoritmo da 
dobra do diâmetro, que irá cortar no máximo duas arestas da árvore.

Nos demais casos, comparado ao algoritmo de Jansen et al.,
vemos que ele também tem um bom desempenho em relação a 
optimalidade. 
Isso pode ser visto nos testes com árvores ternárias 
completas,
que são as árvores cuja bissecção mínima
tem o maior número de arestas no corte, e onde o algoritmo
de FST devolve um corte de largura razoável, com razão
menor que~3 em relação ao corte ótimo.


\newpage
\bibliographystyle{plain}
\bibliography{refs}

\newpage

\part{Parte Subjetiva}
\newpage
%\section{Desafios e frustrações}


\section{Disciplinas relevantes para o TCC}
Em geral, todas as disciplinas tiveram um papel importante
para a minha formação. Mas, as que contribuíram
diretamente para esse trabalho de conclusão de curso
 foram as seguintes:

\begin{itemize}
	\item \textbf{Introdução à Computação} e 
	\textbf{Princípios de Desenvolvimento de Algoritmos}

		% que foram disciplinas fundamentais que contribuiram 
		% para a formação de uma base sólida em relação
		% a lógica de programação.

		que foram disciplinas fundamentais que me deram  
		 uma base sólida em relação
		à lógica de programação e desenvolvimento de algoritmos.

	\item \textbf{Estrutura de dados}

		onde foram vistos conceitos importantes usados 
		nesse trabalho e também foi
		onde tive meu primeiro contato com grafos,
		em um exercício programa.
		
	\item \textbf{Análise de Algoritmos}

		onde foram estudados conceitos de classes de complexidade computacional,
		análise de tempo de algoritmos e programação dinâmica, que foram
		utilizados nesse trabalho.

	\item \textbf{Algoritmos em Grafos}
	
		onde foram vistos conceitos importantes e algoritmos 
		base que foram muito utilizados nesse trabalho, 
		além de ter sido uma matéria fundamental que despertou o meu interesse 
		e curiosidade em relação à esse assunto.
\end{itemize}

\newpage

\section{Agradecimentos}
Gostaria de agradecer, primeiramente, a minha família
que me apoiou em todas as minhas decisões, sempre
me incentivando a seguir em frente com meus objetivos e sonhos,
e esteve ao meu lado em todos os momentos de alegrias e dificuldades.

Agradeço também as boas amizades que fiz no IME, que sempre 
estiveram presentes, compartilhando
alegrias, conquistas, preocupações, pressões e desafios do curso
e fizeram com que as longas viagens diárias da zona leste pro Butantã 
valessem muito mais a pena.

Sou grata a Tina Schmidt, que me permitiu estudar a sua tese de doutorado e
com quem tive a oportunidade de discutir problemas relacionados ao assunto.

Por fim, também sou muitíssimo grata a todos os funcionários do IME e professores que
me deram aula e aceitaram dividir um pouco do seu conhecimento.
Em especial à professora Cris, que foi uma excelente orientadora,
sempre muito presente, paciente e atenciosa, me auxiliando em tudo
o que foi preciso para o desenvolvimento desse trabalho.

\end{document}